webpackJsonp([0],[function(e,t,i){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){window.app=new h,function(){var e=document.createElement("script");e.onload=function(){var e=new Stats;e.domElement.style.cssText="position:fixed;left:0;top:0;z-index:10000",document.body.appendChild(e.domElement),requestAnimationFrame(function t(){e.update(),requestAnimationFrame(t)})},e.src="//rawgit.com/mrdoob/stats.js/master/build/stats.min.js",document.head.appendChild(e)}()}function s(){try{return window.self!==window.top}catch(e){return!0}}var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();i(2);var a=i(6),l=t(a);location.origin||(location.origin=location.protocol+"//"+location.host),window.Common=window.Common||{},window.debug=!0,e(window).resize();var h=function(){function t(){n(this,t),this.$el=e("#content"),this.gameView=new l["default"]({container:this.$el}),this.start()}return o(t,[{key:"start",value:function(){this.gameView.start(),e(window).resize()}}]),t}();s()?e(window).load(function(){console.log("starting app (in iframe)"),setTimeout(function(){r()},1e3)}):e(window).load(function(){console.log("starting app"),r()})}).call(t,i(1))},,function(e,t){},,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(7),a=n(o),l=i(8),h=n(l),d=i(9),u=n(d),c=i(13),f=n(c),p=i(17),v=n(p),g=i(18),m=n(g),w=function(){function e(t){r(this,e),this.el=PIXI.autoDetectRenderer(a["default"].width,a["default"].height,{backgroundColor:15658734,antialias:!0}),t.container.append(this.el.view),this.mousePressed=!1,this.currentMousePos={clientX:0,clientY:0}}return s(e,[{key:"start",value:function(){this.board=new u["default"],this.renderController=new f["default"]({renderer:this.el,board:this.board}),this.bindEvents(),v["default"].add(this.update,this),v["default"].start()}},{key:"bindEvents",value:function(){document.addEventListener("mousedown",this.mouseDown.bind(this)),document.addEventListener("mousemove",this.mouseMove.bind(this)),document.addEventListener("mouseup",this.mouseUp.bind(this))}},{key:"mouseDown",value:function(e){if(!this.board.hasChanged){var t=this.getHoverEl(e);t&&this.mouseInEl(e,t)&&(this.board.activeEls.push(t),this.mousePressed=!0,this.currentMousePos=e)}}},{key:"mouseMove",value:function(e){if(this.mousePressed&&this.board.activeEls.length&&!this.board.hasChanged){this.currentMousePos=e;var t=this.getHoverEl(this.currentMousePos);t&&(this.mouseInEl(this.currentMousePos,t)&&!this.board.loopCompleted?this.handleMouseInEl(t):this.handleMouseOutEl(t))}}},{key:"mouseUp",value:function(e){this.board.hasChanged||(this.board.turn(),this.mousePressed=!1)}},{key:"getHoverEl",value:function(e){for(var t=e.clientX,i=e.clientY,n=0;n<this.board.grid.elements.length;n++){var r=this.board.grid.elements[n],s={x:r.gridPos.x*this.board.elWidth,y:r.gridPos.y*this.board.elHeight,width:this.board.elWidth,height:this.board.elHeight};if(h["default"].pointInRect(t,i,s))return r}}},{key:"mouseInEl",value:function(e,t){var i=e.clientX,n=e.clientY,r={x:t.gridPos.x*this.board.elWidth+this.board.elWidth/2,y:t.gridPos.y*this.board.elHeight+this.board.elHeight/2,radius:this.board.maxElSize/2};return h["default"].circlePointCollision(i,n,r)}},{key:"handleMouseInEl",value:function(e){var t=this.board.activeEls[this.board.activeEls.length-1],i=this.board.grid.getNeighbors(t.gridPos);e.dotType.id===t.dotType.id&&-1===this.board.activeEls.indexOf(e)&&-1!==i.indexOf(e)?this.board.activeEls.push(e):e.dotType.id===t.dotType.id&&0===this.board.activeEls.indexOf(e)&&-1!==i.indexOf(e)&&this.board.activeEls.length>=4&&(this.board.activeEls.push(e),this.board.loopCompleted=!0)}},{key:"handleMouseOutEl",value:function(e){if(!(this.board.activeEls.length<2)){var t=this.board.activeEls[this.board.activeEls.length-1],i=this.board.activeEls[this.board.activeEls.length-2],n=i.gridPos.subtract(t.gridPos),r={width:n.x*this.board.elWidth,height:n.y*this.board.elHeight};if(0!==r.width){var s=void 0;r.width>0?(r.width-=this.board.maxElSize,s=this.board.maxElSize/2):(r.width+=this.board.maxElSize,s=-(this.board.maxElSize/2)),r.height=this.board.maxElSize/1.5,r.y=t.gridPos.y*this.board.elHeight+this.board.elHeight/2-r.height/2,r.x=t.gridPos.x*this.board.elWidth+this.board.elWidth/2+s}else{var o=void 0;r.height>0?(r.height-=this.board.maxElSize,o=this.board.maxElSize/2):(r.height+=this.board.maxElSize,o=-(this.board.maxElSize/2)),r.width=this.board.maxElSize/1.5,r.y=t.gridPos.y*this.board.elHeight+this.board.elHeight/2+o,r.x=t.gridPos.x*this.board.elWidth+this.board.elWidth/2-r.width/2}h["default"].pointInRect(this.currentMousePos.clientX,this.currentMousePos.clientY,r)&&(this.board.activeEls.pop(),this.board.loopCompleted&&(this.board.loopCompleted=!1))}}},{key:"update",value:function(){window.debug&&!this.board.hasChanged&&(0,m["default"])(this.board),this.renderController.update(this.board,this.currentMousePos),this.renderController.renderer.render(this.renderController.stage)}}]),e}();e.exports=w},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){i(this,e),this.width=window.innerWidth,this.height=window.innerHeight,this.bindEvents()}return n(e,[{key:"bindEvents",value:function(){var e=this;window.addEventListener("resize",function(t){e.width=window.innerWidth,e.height=window.innerHeight})}}]),e}(),s=new r;e.exports=s},function(e,t){"use strict";var i={norm:function(e,t,i){return(e-t)/(i-t)},lerp:function(e,t,i){return(i-t)*e+t},map:function(e,t,i,n,r){return this.lerp(this.norm(e,t,i),n,r)},clamp:function(e,t,i){return Math.min(Math.max(e,Math.min(t,i)),Math.max(t,i))},distance:function(e,t,i,n){var r=i-e,s=n-t;return Math.sqrt(r*r+s*s)},circleCollision:function(e,t){return this.distance(e.x,e.y,t.x,t.y)<=e.radius+t.radius},circlePointCollision:function(e,t,i){return this.distance(i.x,i.y,e,t)<=i.radius},pointInRect:function(e,t,i){return this.inRange(e,i.x,i.x+i.width)&&this.inRange(t,i.y,i.y+i.height)},inRange:function(e,t,i){return e>=Math.min(t,i)&&e<=Math.max(t,i)},rangeIntersect:function(e,t,i,n){return Math.max(e,t)>=Math.min(i,n)&&Math.min(e,t)<=Math.max(i,n)},rectIntersect:function(e,t){return this.rangeIntersect(e.x,e.x+e.width,t.x,t.x+t.width)&&this.rangeIntersect(e.y,e.y+e.height,t.y,t.y+t.height)},randomRange:function(e,t){return e+Math.random()*(t-e)},randomInt:function(e,t){return Math.floor(e+Math.random()*(t-e+1))},randomDist:function(e,t,i){for(var n=0,r=0;i>r;r++)n+=this.randomRange(e,t);return n/i},roundToPlaces:function(e,t){var i=Math.pow(10,t);return Math.round(e*i)/i},roundNearest:function(e,t){return Math.round(e/t)*t},degreesToRads:function(e){return e/180*Math.PI},radsToDegrees:function(e){return 180*e/Math.PI},rotateTo:function(e,t){var i=Math.cos(t),n=Math.sin(t),r={x:e.x*i-e.y*n,y:e.y*i+e.x*n};return r},quadraticBezier:function(e,t,i,n,r){return r=r||{},r.x=Math.pow(1-n,2)*e.x+2*(1-n)*n*t.x+n*n*i.x,r.y=Math.pow(1-n,2)*e.y+2*(1-n)*n*t.y+n*n*i.y,r},cubicBezier:function(e,t,i,n,r,s){return s=s||{},s.x=Math.pow(1-r,3)*e.x+3*Math.pow(1-r,2)*r*t.x+3*(1-r)*r*r*i.x+r*r*r*n.x,s.y=Math.pow(1-r,3)*e.y+3*Math.pow(1-r,2)*r*t.y+3*(1-r)*r*r*i.y+r*r*r*n.y,s},multicurve:function(e,t){var i,n,r,s;t.moveTo(e[0].x,e[0].y);for(var o=1;o<e.length-2;o+=1)i=e[o],n=e[o+1],r=(i.x+n.x)/2,s=(i.y+n.y)/2,t.quadraticCurveTo(i.x,i.y,r,s);i=e[e.length-2],n=e[e.length-1],t.quadraticCurveTo(i.x,i.y,n.x,n.y)}};e.exports=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(7),a=n(o),l=i(10),h=n(l),d=i(11),u=n(d),c=i(12),f=n(c),p=function(){function e(t){r(this,e),t||(t={}),t.width=t.width||16,t.height=t.height||8,this.grid=new u["default"]({width:t.width,height:t.height}),this.elWidth=a["default"].width/this.grid.width,this.elHeight=a["default"].height/this.grid.height,this.maxElSize=Math.min(this.elWidth,this.elHeight)/2;for(var i=0;i<this.grid.height;i++)for(var n=0;n<this.grid.width;n++){var s=new f["default"]({x:n,y:i});this.grid.setElement(new h["default"](n,i),s)}this.hasChanged=!1,this.cloned=null,this.activeEls=[],this.loopCompleted=!1}return s(e,[{key:"setChanged",value:function(e){this.hasChanged=e,e||(this.activeEls=[],this.loopCompleted=!1)}},{key:"turn",value:function(){return this.activeEls.length<2?void this.setChanged(!1):(this.startTurn(),this.removeActiveElsFromGrid(),this.addPreviousPositions(),this.shiftElsDown(),this.createNewEls(),void this.finishTurn())}},{key:"startTurn",value:function(){if(this.loopCompleted){this.activeEls.pop();for(var e=this.activeEls[0].dotType.id,t=0;t<this.grid.elements.length;t++){var i=this.grid.elements[t];i.dotType.id===e&&-1===this.activeEls.indexOf(i)&&this.activeEls.push(i)}}}},{key:"removeActiveElsFromGrid",value:function(){for(var e=0;e<this.grid.elements.length;e++){var t=this.grid.elements[e];-1!==this.activeEls.indexOf(t)&&this.grid.setElement(t.gridPos,null)}}},{key:"addPreviousPositions",value:function(){for(var e=0;e<this.grid.elements.length;e++){var t=this.grid.elements[e];t&&(t.previousGridPos=new h["default"](t.gridPos.x,t.gridPos.y))}}},{key:"shiftElsDown",value:function(){this.activeEls.sort(function(e,t){return e.gridPos.y-t.gridPos.y});for(var e=0;e<this.activeEls.length;e++)for(var t=this.activeEls[e],i=t.gridPos,n=i.y-1,r=i.x;n>=0;){var s=this.grid.getElement(new h["default"](r,n));this.grid.setElement(new h["default"](r,n+1),s),this.grid.setElement(new h["default"](r,n),null),n--}for(var o=0;o<this.grid.height;o++)for(var a=0;a<this.grid.width;a++){var l=new h["default"](a,o),d=this.grid.getElement(l);d&&(d.gridPos=l)}}},{key:"createNewEls",value:function(){for(var e=0;e<this.grid.height;e++)for(var t=0;t<this.grid.width;t++){var i=new h["default"](t,e),n=this.grid.getElement(i);if(!n){var r=new f["default"](i);this.grid.setElement(i,r)}}}},{key:"finishTurn",value:function(){this.setChanged(!0)}}]),e}();e.exports=p},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(t,n){i(this,e),this.x=t,this.y=n}return n(e,[{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"subtract",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"multiply",value:function(t){return new e(this.x*t,this.y*t)}}]),e}();e.exports=r},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(10),a=n(o),l=[new a["default"](0,-1),new a["default"](1,0),new a["default"](0,1),new a["default"](-1,0)],h=function(){function e(t){r(this,e),this.width=t.width,this.height=t.height,this.elements=new Array(this.width*this.height)}return s(e,[{key:"getElement",value:function(e){return this.elements[e.y*this.width+e.x]}},{key:"setElement",value:function(e,t){this.elements[e.y*this.width+e.x]=t}},{key:"getNeighbors",value:function(e){for(var t=[],i=0;i<l.length;i++)t.push(this.getElement(e.add(l[i])));return t}}]),e}();e.exports=h},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=i(8),o=n(s),a=i(10),l=n(a),h=[{id:1,name:"red",color:15817787},{id:3,name:"green",color:9039248},{id:4,name:"blue",color:9092607},{id:5,name:"purple",color:10312375}],d=function u(e){r(this,u),this.gridPos=new l["default"](e.x,e.y),this.dotType=h[o["default"].randomInt(0,h.length-1)]};e.exports=d},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(14),l=r(a),h=i(15),d=n(h),u=i(16),c=n(u),f=function(){function e(t){s(this,e),this.renderer=t.renderer,this.stage=new PIXI.Container,this.activeElConnections=new PIXI.Graphics,this.stage.addChild(this.activeElConnections),this.staticStateEls=new PIXI.Container,this.stage.addChild(this.staticStateEls),this.prepareStaticData(t.board),this.resetRendererState()}return o(e,[{key:"resetRendererState",value:function(){this.isAnimatingTurn=!1,-1!==this.stage.children.indexOf(this.activeEls)&&(this.stage.removeChild(this.activeEls),this.activeEls.destroy(!0)),this.activeEls=new PIXI.Container,this.stage.addChild(this.activeEls),-1!==this.stage.children.indexOf(this.shiftingEls)&&(this.stage.removeChild(this.shiftingEls),this.shiftingEls.destroy(!0)),this.shiftingEls=new PIXI.Container,this.stage.addChild(this.shiftingEls),-1!==this.stage.children.indexOf(this.nonShiftingEls)&&(this.stage.removeChild(this.nonShiftingEls),this.nonShiftingEls.destroy(!0)),this.nonShiftingEls=new PIXI.Container,this.stage.addChild(this.nonShiftingEls),-1!==this.stage.children.indexOf(this.newEls)&&(this.stage.removeChild(this.newEls),this.newEls.destroy(!0)),this.newEls=new PIXI.Container,this.stage.addChild(this.newEls),this.turnAnimationSteps=[],this.usePrevPosForShiftingEls=!1,this.canShowNew=!1}},{key:"prepareStaticData",value:function(e){if(e)for(var t=0;t<e.grid.elements.length;t++){var i=e.grid.elements[t],n=new l["default"]({currentX:i.gridPos.x*e.elWidth+e.elWidth/2,currentY:i.gridPos.y*e.elHeight+e.elHeight/2,dotType:i.dotType,radius:e.maxElSize/2,loopedRadius:e.maxElSize/2,maxLoopedRadius:e.maxElSize/1.5,loopedAlpha:.5});this.staticStateEls.addChild(n)}else{this.staticStateEls.removeChildren();for(var r=this.shiftingEls.children.length-1;r>=0;r--){var s=this.shiftingEls.removeChildAt(r);this.staticStateEls.addChild(s),s.tween&&(s.tween=null)}for(var o=this.nonShiftingEls.children.length-1;o>=0;o--){var a=this.nonShiftingEls.removeChildAt(o);this.staticStateEls.addChild(a),a.tween&&(a.tween=null)}for(var h=this.newEls.children.length-1;h>=0;h--){var d=this.newEls.removeChildAt(h);this.staticStateEls.addChild(d),d.tween&&(d.tween=null)}for(var u=this.activeEls.children.length-1;u>=0;u--){var c=this.activeEls.children[u];this.activeEls.removeChild(c),c.remove(),c.destroy(!0)}this.activeElConnections.clear(),this.activeElConnections.alpha=1}}},{key:"prepareTurnAnimationData",value:function(e){this.isAnimatingTurn=!0,this.staticStateEls.removeChildren();for(var t=0;t<e.activeEls.length;t++){var i=e.activeEls[t],n=new l["default"]({currentX:i.gridPos.x*e.elWidth+e.elWidth/2,currentY:i.gridPos.y*e.elHeight+e.elHeight/2,dotType:i.dotType,radius:e.maxElSize/2,loopedRadius:e.loopCompleted?e.maxElSize/1.5:e.maxElSize/2,maxLoopedRadius:e.maxElSize/1.5,loopedAlpha:.5,loopCompleted:e.loopCompleted});this.activeEls.addChild(n)}for(var r=0;r<e.grid.elements.length;r++){var s=e.grid.elements[r];if(!s.previousGridPos||s.previousGridPos.x===s.gridPos.x&&s.previousGridPos.y===s.gridPos.y)if(s.previousGridPos){var o=new l["default"]({currentX:s.gridPos.x*e.elWidth+e.elWidth/2,currentY:s.gridPos.y*e.elHeight+e.elHeight/2,dotType:s.dotType,radius:e.maxElSize/2,loopedRadius:e.maxElSize/2,maxLoopedRadius:e.maxElSize/1.5,loopedAlpha:.5});this.nonShiftingEls.addChild(o)}else{var a=new l["default"]({currentX:s.gridPos.x*e.elWidth+e.elWidth/2,currentY:s.gridPos.y*e.elHeight+e.elHeight/2,prevX:s.gridPos.x*e.elWidth+e.elWidth/2,prevY:-100,dotType:s.dotType,radius:0,destRadius:e.maxElSize/2,loopedRadius:0,maxLoopedRadius:e.maxElSize/1.5,loopedAlpha:.5});this.newEls.addChild(a)}else{var h=new l["default"]({currentX:s.gridPos.x*e.elWidth+e.elWidth/2,currentY:s.gridPos.y*e.elHeight+e.elHeight/2,prevX:s.previousGridPos.x*e.elWidth+e.elWidth/2,prevY:s.previousGridPos.y*e.elHeight+e.elHeight/2,dotType:s.dotType,radius:e.maxElSize/2,loopedRadius:e.maxElSize/2,maxLoopedRadius:e.maxElSize/1.5,loopedAlpha:.5});this.shiftingEls.addChild(h)}}this.usePrevPosForShiftingEls=!0,this.canShowNew=!1,this.turnAnimationSteps.push(d.hideActiveElConnection(this)),this.turnAnimationSteps.push(d.shrinkActive(this)),this.turnAnimationSteps.push(d.shiftDown(this)),this.turnAnimationSteps.push(d.populateNew(this))}},{key:"update",value:function(e,t){var i=this;if(e.hasChanged&&!this.isAnimatingTurn&&this.prepareTurnAnimationData(e),this.isAnimatingTurn)this.turnAnimationSteps.length>0&&this.turnAnimationSteps[0](e,t),this.drawTurnAnimationBoard(e),0===this.turnAnimationSteps.length&&(this.prepareStaticData(),this.resetRendererState(),e.setChanged(!1));else{this.drawActiveElConnections(e,t);for(var n=function(t){var n=i.staticStateEls.children[t];n&&(e.loopCompleted&&e.activeEls[0].dotType===n.dotType&&n.loopedRadius<n.maxLoopedRadius&&!n.tween?n.tween=c.getNewTween(n,{loopedRadius:n.maxLoopedRadius},300,c.easeInOutQuad,null,function(){n.tween=null}):!e.loopCompleted&&n.loopedRadius>n.radius&&!n.tween&&(n.tween=c.getNewTween(n,{loopedRadius:n.radius},300,c.easeInOutQuad,null,function(){n.tween=null})),n.tween&&n.tween(),n.update(!1))},r=0;r<this.staticStateEls.children.length;r++)n(r)}}},{key:"drawTurnAnimationBoard",value:function(e){var t=void 0,i=void 0;if(this.activeEls.children.length>0)for(t=0;t<this.activeEls.children.length;t++)i=this.activeEls.children[t],i.update(!1);for(t=0;t<this.shiftingEls.children.length;t++)i=this.shiftingEls.children[t],i.update(this.usePrevPosForShiftingEls);for(t=0;t<this.nonShiftingEls.children.length;t++)i=this.nonShiftingEls.children[t],i.update(!1);if(this.canShowNew)for(t=0;t<this.newEls.children.length;t++)i=this.newEls.children[t],i.update(!1)}},{key:"drawElement",value:function(e,t,i){if(!(t.radius<0)){this.context.fillStyle=t.dotType.color;var n=i?t.prevX:t.currentX,r=i?t.prevY:t.currentY;t.loopedRadius>t.radius&&(this.context.globalAlpha=t.loopedAlpha,this.context.beginPath(),this.context.arc(n,r,t.loopedRadius,0,2*Math.PI,!1),this.context.fill(),this.context.globalAlpha=1),this.context.beginPath(),this.context.arc(n,r,t.radius,0,2*Math.PI,!1),this.context.fill()}}},{key:"drawActiveElConnections",value:function(e,t){if(this.activeElConnections.clear(),!(e.activeEls.length<1)){if(this.activeElConnections.lineStyle(e.maxElSize/4,3355443),e.activeEls.length>1)for(var i=1;i<e.activeEls.length;i++){var n=e.activeEls[i-1];this.activeElConnections.moveTo(n.gridPos.x*e.elWidth+e.elWidth/2,n.gridPos.y*e.elHeight+e.elHeight/2);var r=e.activeEls[i];this.activeElConnections.lineTo(r.gridPos.x*e.elWidth+e.elWidth/2,r.gridPos.y*e.elHeight+e.elHeight/2)}var s=e.activeEls[e.activeEls.length-1];if(this.activeElConnections.moveTo(s.gridPos.x*e.elWidth+e.elWidth/2,s.gridPos.y*e.elHeight+e.elHeight/2),e.loopCompleted){var o=e.activeEls[0];this.activeElConnections.lineTo(o.gridPos.x*e.elWidth+e.elWidth/2,o.gridPos.y*e.elHeight+e.elHeight/2)}else this.activeElConnections.lineTo(t.clientX,t.clientY)}}}]),e}();e.exports=f},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e){function t(e){i(this,t);var r=n(this,Object.getPrototypeOf(t).call(this));return r.currentX=e.currentX,r.currentY=e.currentY,r.prevX=e.prevX,r.prevY=e.prevY,r.dotType=e.dotType,r.radius=Math.floor(e.radius),r.destRadius=e.destRadius?Math.floor(e.destRadius):null,r.loopedRadius=Math.floor(e.loopedRadius),r.maxLoopedRadius=Math.floor(e.maxLoopedRadius),r.loopedAlpha=e.loopedAlpha,r.loopCompleted=e.loopCompleted,r.createChildren(),r.update(!1),r}return r(t,e),s(t,[{key:"createChildren",value:function(){var e=h.createNewCircle(this.loopedRadius,this.maxLoopedRadius,this.dotType.color,this.loopedAlpha,!1),t="number"==typeof this.destRadius?this.destRadius:this.radius,i=h.createNewCircle(this.radius,t,this.dotType.color,1,!0);this.addChild(e),this.addChild(i)}},{key:"update",value:function(e){var t=e?this.prevX:this.currentX,i=e?this.prevY:this.currentY;this.position.x===t&&this.position.y===i||(this.position.x=t,this.position.y=i),this.children[0].currentRadius===this.loopedRadius&&this.children[0].alpha===this.loopedAlpha||this.children[0].update(this.loopedRadius,this.loopedAlpha),this.children[1].currentRadius!==this.radius&&this.children[1].update(this.radius,1)}},{key:"remove",value:function(){for(var e=this.children.length-1;e>=0;e--){var t=this.children[e];t.destroy(),this.removeChild(t)}}}]),t}(PIXI.Container),a=function(e){function t(e,r,s,o,a){i(this,t);var l=n(this,Object.getPrototypeOf(t).call(this,e));return l.anchor.x=.5,l.anchor.y=.5,l.baseRadius=s,l.currentRadius=r,l.color=o,l.alpha=a,l.update(l.currentRadius,a),l}return r(t,e),s(t,[{key:"update",value:function(e,t){this.currentRadius=e,this.alpha=t,this.scale.x=this.currentRadius/this.baseRadius,this.scale.y=this.currentRadius/this.baseRadius}}]),t}(PIXI.Sprite),l=function(){function e(){i(this,e),this.graphics=new PIXI.Graphics,this.loopCircleTextures={},this.circleTextures={}}return s(e,[{key:"createNewCircle",value:function(e,t,i,n,r){var s=void 0,o=r?"circleTextures":"loopCircleTextures";this[o].hasOwnProperty(i.toString())?s=this[o][i.toString()]:(this.graphics.lineStyle(),this.graphics.beginFill(i,1),this.graphics.drawEllipse(t,t,t,t),s=this.graphics.generateTexture(),this[o][i.toString()]=s,this.graphics.clear());var l=new a(s,e,t,e,n);return l}}]),e}(),h=new l;t["default"]=o},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t}function r(e,t){return function(){t--,0>t&&e.turnAnimationSteps.shift()}}function s(e){var t=100,i={hideCompleted:!0},n=void 0;return function(){e.usePrevPosForShiftingEls||(e.usePrevPosForShiftingEls=!0),i.hideCompleted=!0,n||(n=d.getNewTween(e.activeElConnections,{alpha:0},t,d.easeInOutQuint,function(e){e[0].hideCompleted=!1})),n(i),i.hideCompleted&&e.turnAnimationSteps.shift()}}function o(e){var t=500,i={shrinkCompleted:!0};return function(){e.usePrevPosForShiftingEls||(e.usePrevPosForShiftingEls=!0),i.shrinkCompleted=!0;for(var n=0;n<e.activeEls.children.length;n++){var r=e.activeEls.children[n];r.tween||(r.tween=d.getNewTween(r,{radius:0,loopedRadius:1.75*r.radius,loopedAlpha:0},t,d.easeInOutQuint,function(e){e[0].shrinkCompleted=!1})),r.tween(i)}i.shrinkCompleted&&e.turnAnimationSteps.shift()}}function a(e){for(var t=2,i=[],n=0;n<e.shiftingEls.children.length;n++){var r=e.shiftingEls.children[n],s=Math.floor(r.currentX);i[s]||(i[s]=[]),i[s].push(r)}i=i.filter(Boolean);for(var o=0;o<i.length;o++)for(var a=i[o],l=0;l<a.length;l++)a[l].shiftFrameDelay=t*o;var h=500,u={shiftCompleted:!0};return function(){e.usePrevPosForShiftingEls||(e.usePrevPosForShiftingEls=!0),u.shiftCompleted=!0;var t=void 0,n=void 0,r=void 0;for(t=0;t<i.length;t++)for(n=0;n<i[t].length;n++)r=i[t][n],r.shiftFrameDelay>0?(r.shiftFrameDelay-=1,u.shiftCompleted=!1):(r.tween||(r.tween=d.getNewTween(r,{prevY:r.currentY},h,d.easeInOutQuad,function(e){e[0].shiftCompleted=!1})),r.tween(u));if(u.shiftCompleted){for(t=0;t<e.shiftingEls.length;t++)e.shiftingEls[t].tween=null;e.turnAnimationSteps.shift()}}}function l(e){for(var t=e.newEls.children.length,i=0;t>i;i++)e.newEls.children[i].spawnFrameDelay=Math.floor(Math.random()*t/3);var n=500,r={populationComplete:!0};return function(){e.usePrevPosForShiftingEls&&(e.usePrevPosForShiftingEls=!1),e.canShowNew||(e.canShowNew=!0),r.populationComplete=!0;for(var t=0;t<e.newEls.children.length;t++){var i=e.newEls.children[t];i.spawnFrameDelay>0?(i.spawnFrameDelay-=1,r.populationComplete=!1):(i.tween||(i.tween=d.getNewTween(i,{radius:i.destRadius,loopedRadius:i.destRadius},n,d.easeOutBack,function(e){e[0].populationComplete=!1})),i.tween(r))}if(r.populationComplete){for(var s=0;s<e.newEls.length;s++)e.newEls[s].tween=null;e.turnAnimationSteps.shift()}}}Object.defineProperty(t,"__esModule",{value:!0}),t.waitForFrames=r,t.hideActiveElConnection=s,t.shrinkActive=o,t.shiftDown=a,t.populateNew=l;var h=i(16),d=n(h)},function(e,t){"use strict";function i(e,t,i,n,r,s){var o,a={},l={},h=new Date;for(o in t)a[o]=e[o],l[o]=t[o]-a[o];var d=void 0;return function(){if(d=new Date-h,i>d){for(o in t)e[o]=n(d,a[o],l[o],i);r&&r(arguments)}else{d=i;for(var o in t)e[o]=n(d,a[o],l[o],i);s&&s(arguments)}}}function n(e,t,i,n){return i*e/n+t}function r(e,t,i,n){return i*(e/=n)*e+t}function s(e,t,i,n){return-i*(e/=n)*(e-2)+t}function o(e,t,i,n){return(e/=n/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t}function a(e,t,i,n){return i*(e/=n)*e*e+t}function l(e,t,i,n){return i*((e=e/n-1)*e*e+1)+t}function h(e,t,i,n){return(e/=n/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t}function d(e,t,i,n){return i*(e/=n)*e*e*e*e+t}function u(e,t,i,n){return i*((e=e/n-1)*e*e*e*e+1)+t}function c(e,t,i,n){return(e/=n/2)<1?i/2*e*e*e*e*e+t:i/2*((e-=2)*e*e*e*e+2)+t}function f(e,t,i,n,r){return void 0==r&&(r=1.70158),i*((e=e/n-1)*e*((r+1)*e+r)+1)+t}function p(e,t,i,n){return(e/=n)<1/2.75?i*(7.5625*e*e)+t:2/2.75>e?i*(7.5625*(e-=1.5/2.75)*e+.75)+t:2.5/2.75>e?i*(7.5625*(e-=2.25/2.75)*e+.9375)+t:i*(7.5625*(e-=2.625/2.75)*e+.984375)+t}Object.defineProperty(t,"__esModule",{value:!0}),t.getNewTween=i,t.linearTween=n,t.easeInQuad=r,t.easeOutQuad=s,t.easeInOutQuad=o,t.easeInCubic=a,t.easeOutCubic=l,t.easeInOutCubic=h,t.easeInQuint=d,t.easeOutQuint=u,t.easeInOutQuint=c,t.easeOutBack=f,t.easeOutBounce=p},function(e,t){"use strict";var i=new PIXI.ticker.Ticker;e.exports=i},function(e,t){"use strict";function i(e){for(var t=void 0,i=0;i<e.grid.elements.length;i++)t=e.grid.elements[i],Math.random()<.5&&e.activeEls.push(t);e.turn()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i}]);
//# sourceMappingURL=bundle.js.map